@model IEnumerable<NivesBrelihPhotography.Models.AboutModels.WorkingWith>

@{
    ViewBag.Title = "Sodelujem z";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<br />

<div class="row">

    @foreach (var workingWith in Model)
    {
        <div class="col-xs-12 col-sm-6 col-md-4">
            <article class="working-with-container">
                <header class="working-with-title">
                    @workingWith.Title
                </header>
                <section class="working-with-content">

                    @if ((workingWith.Description != "/" && workingWith.Description != "") || (workingWith.LinkText != "/" && workingWith.LinkText != ""))
                    {
                        <section class="working-with-information">
                            <section class="text">
                                <p>@workingWith.Description</p>
                                <a href="@workingWith.Link">@workingWith.LinkText</a>
                            </section>
                            <section class="anchor-right">
                                <span class="glyphicon glyphicon-search"></span>
                            </section>
                        </section>
                        <img src="@workingWith.PhotoUrl" alt="@workingWith.Title" class="img-responsive working-with-photo" />
                    }
                    else
                    {
                        <a href="@workingWith.Link">
                            <img src="@workingWith.PhotoUrl" alt="@workingWith.Title" class="img-responsive working-with-photo" />
                        </a>
                    }
                </section>
            </article>
        </div>
    }

</div>

@section scripts
{
    <script>
        (function ($) {

            var scrollInProgress = false;

            $(".working-with-information").on("mousemove", function () {
                var currentEl = $(this);
                if (scrollInProgress != true) {
                    scrollInProgress = true;
                    currentEl.transition({ x: '0px' }, 500, function () {
                        currentEl.find(".anchor-right").fadeOut();
                    });
                }
                
            }).on("mouseleave", function () {
                var currentEl = $(this);

                currentEl.transition({ x: '-80%' }, 500,function() {
                    currentEl.find(".anchor-right").fadeIn();
                    scrollInProgress = false;
                });
                
            });

            $(".working-with-container").on("click", function() {
                window.location = $(this).find("a").attr('href');
            });
        })(window.jQuery);
    </script>
}

@section CustomStyles
{
    <style>
        .working-with-container {
            position: relative;
            border: 2px solid #eee;
            -ms-border-radius: 4px;
            border-radius: 4px;
            padding: 10px;
            cursor: pointer;
        }
        .working-with-content {
            position: relative;
            overflow: hidden;

        }
        .working-with-content .anchor-right {
            position: absolute;
            right: 0px;
            top: 0px;
            width: 20%;
            height: 100%;

        }
        .working-with-content .anchor-right span {
            position: absolute;
            left: 50%;
            top: 50%;
            color: #333333;
            font-size: 1.2em;
            -webkit-transform: translate(-50%, -50%);
            -moz-transform: translate(-50%, -50%);
            -ms-transform: translate(-50%, -50%);
            -o-transform: translate(-50%, -50%);
            transform: translate(-50%, -50%);
        }

        .working-with-information {
            position: absolute;
            background-color: white;
            background-color: rgba(255, 255, 255, 0.8);
            height: 100%;
            width: 100%;
            -webkit-transform: translateX(-80%);
            -moz-transform: translateX(-80%);
            -ms-transform: translateX(-80%);
            -o-transform: translateX(-80%);
            transform: translateX(-80%);
        }
        .working-with-information .text {
            padding: 10px 20%;
            text-align: center;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.25em;
            /*font-family: 'Quicksand', cursive;*/
            font-family: 'Alegreya', sans-serif;
        }

        .working-with-container .working-with-title {
            z-index: 10;
            /*box-shadow: 0px 0px 2px black;*/
            -ms-border-radius: 4px;
            border-radius: 4px;
            position: absolute;
            top: 0px;
            left:50%;
            -webkit-transform: translate(-50%, -50%);
            -moz-transform: translate(-50%, -50%);
            -ms-transform: translate(-50%, -50%);
            -o-transform: translate(-50%, -50%);
            transform: translate(-50%, -50%);
            padding: 10px 20px;
            background-color: white;
            font-size: 1.1em;
            color: #333;
            font-family: 'Petit Formal Script', cursive;
        }

        .working-with-container .working-with-content .working-with-photo {
            margin: 0 auto;
        }
    </style>
}
